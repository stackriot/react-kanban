module.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r.w={},r(r.s=100)}([function(e,t){e.exports=require("react")},function(e,t){e.exports=require("prop-types")},function(e,t){e.exports=require("react-redux")},function(e,t){e.exports=require("react-router-dom")},function(e,t){e.exports=require("classnames")},function(e,t){e.exports=require("react-beautiful-dnd")},function(e,t){e.exports=require("react-textarea-autosize")},function(e,t){e.exports=require("shortid")},function(e,t){e.exports=require("react-helmet")},function(e,t){e.exports=require("react-icons/lib/fa/trash")},function(e,t){e.exports=require("react-aria-menubutton")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(0),o=i(r(1)),a=i(r(82));function i(e){return e&&e.__esModule?e:{default:e}}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var s=function(e){function t(){var e,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return u(n,(r=n=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),Object.defineProperty(c(n),"handleClickOutside",{configurable:!0,enumerable:!0,writable:!0,value:function(){return n.props.handleClickOutside()}}),Object.defineProperty(c(n),"render",{configurable:!0,enumerable:!0,writable:!0,value:function(){return n.props.children}}),r))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n.Component),t}();Object.defineProperty(s,"propTypes",{configurable:!0,enumerable:!0,writable:!0,value:{handleClickOutside:o.default.func.isRequired,children:o.default.element.isRequired}});var d=(0,a.default)(s);t.default=d},function(e,t){e.exports=require("passport")},function(e,t){e.exports=require("express")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=(n=r(7))&&n.__esModule?n:{default:n};function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=function(e){return e.map(function(e){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){a(e,t,r[t])})}return e}({color:"white",_id:o.default.generate()},e)})},l=function(e){var t=[{text:"### Supports GitHub flavored markdown\nFeaturing cutting edge HTML features like\n* Headings\n* Bullet points\n* **Bold** and *italic* text\n* Links\n* Images\n* ```\n() => {\n    // Code blocks\n}\n```\n\nWatch out, Netscape navigator 2.0!"},{text:"### Works on mobile devices\nUnlike a certain other website..."},{text:"### And more!\n[x] Colors\n[x] Deadlines\n[x] Checkboxes",color:"#ff6",date:new Date}],r=[{text:"### Edit a card\nYou can edit the contents of a card by clicking on it. Remember to use Shift + Enter to create a newline."},{text:"### Drag a card or list\nReposition cards and lists by dragging them with a mouse or touch gesture."},{text:'### Create a card or list\nAdd a new card to an existing list by clicking the + button below each list. You can add a new list by clicking the "Add a list"-button to the right'},{text:"### Add a checklist\nFor a task that has many sub-tasks, you can create a checklist with markdown.\n[x] Like this\n[ ] Click me"},{text:"### Change the board\nYou can edit the title of the board by clicking it. You can also change the color of the board by clicking the button in the top right corner."}];return e||r.unshift({text:"### Sign in to save changes\nSince you are not signed in, your changes will not persist after you leave the website. Go back to the login screen by pressing the 'Sign in' button in the top right corner."}),{_id:o.default.generate(),title:"Tutorial board",color:"blue",lists:[{_id:o.default.generate(),title:"Welcome to React Kanban!",cards:i([{text:"### An open source application inspired by Trello"},{text:"![Octocat](https://assets-cdn.github.com/images/modules/logos_page/Octocat.png)\nCheck out the [source code on GitHub](https://github.com/stackriot/react-kanban)\n",color:"#6df"}])},{_id:o.default.generate(),title:"Features",cards:i(t)},{_id:o.default.generate(),title:"How to use",cards:i(r)}],users:e?[e]:[]}};t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findCheckboxes=void 0;t.findCheckboxes=function(e){var t=e.match(/\[(\s|x)\]/g)||[],r=t.filter(function(e){return"[x]"===e}).length;return{total:t.length,checked:r}}},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAC+ElEQVR4nHWTS28bZRiFn/ebGc94fG9c4iR1giIgbRRISkGIFYvC/6BbFoifwbYrbhISEvwCEEICgdiAFHFtuSWq1CYmaR3HHt/t8cx8LwtEFxTO8ujRszpH+J8sxR9IqmlZrITWpENHvEnk33iEk38Xtbe7Rq7vF3X5/BlySQkQQTVHfPayfnFwPftqdqMYZY8IHntvhFVtIvYy6ye7BPNQw9k0ePL3ky3vdjPUaX6De51rfH8IejB2k9brwQTzj8CqXUX0afJxDT8uoCLO1C837nmvBNmiANBivR7jhyA7hdRrAH8LLrzbFYGnipEW6qfJpVLbLZhUTCnXq5A5uVm/UXGwbk3mK0WT2wuFhiCX35/UcAGaB8avttO9Ql8rWcEJZ+38auprNn9podTBj3ON553WCzlSf1NmvQBrp8rRWGXfeeNih8dvZXvTilxRgzGZSZPKomwUt9iTSrrZ1atLP29X8l1TY5ysy9kcIBBKVxwNXVFCUerlc+0Olmmsjofl+q2RDpaT8oPYt2EvaTQ3W/n10cC/trib4BEOi5yXXIYGdl1F8wKmcZyePrdobTtedgFgbbSYvHh8uLRS+Hxt3fxULjVnC0I8MiqlmMCpaxsXzxVkDJpt2dONS6e97tx3Jlk4qT3hfbpRSvpe/eSO8X6wau+olz0rM7PC3ChW+7KZ1PU7Y8XGDnp8kX4NIIjT+U72Wa2SDBK/NA49FmOi0LqZZP6PeGaBAkhCSMrX5mZnmVf58nCNXtug1jOTnO9EgSdxXMu3I0FV+k6bhBkpIh1cwErCUXAsn7gAdRNlxsovl4g6mYxqVffPmkOaMpAZy6yIH88k0ggHz/Q416q0Ue6iTA1A4+w1HGt/dcniwHo9ozIHYOT0GXJfSqMYgIxEq3KOMk7VfhTuDPThlPPT8RjhG1Wvk8y2/0CyVJzhwD25/7H8xj5DIi1wZKv6bYq+2Uni1n++8aj6DvXmh46Xu72F6lUgAFJED8W3+w/eSrLmbvyQ/wsKQXDvmczNFQAAAABJRU5ErkJggg=="},function(e,t){e.exports=require("react-icons/lib/md/access-alarm")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),o=c(r(1)),a=c(r(72)),i=c(r(71)),l=c(r(17)),u=c(r(70));function c(e){return e&&e.__esModule?e:{default:e}}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}r(69);var b=function(e){function t(){var e,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var c=arguments.length,s=new Array(c),d=0;d<c;d++)s[d]=arguments[d];return f(o,(r=o=f(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),Object.defineProperty(p(o),"renderDueDate",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=o.props.date;if(!e)return null;var t,r,u=(0,i.default)(e,new Date);return t=u<-1?"".concat(Math.abs(u)," days ago"):-1===u?"Yesterday":0===u?"Today":1===u?"Tomorrow":(0,a.default)(e,"D MMM"),r=u<0?"red":0===u?"#d60":"green",n.default.createElement("div",{className:"badge",style:{background:r}},n.default.createElement(l.default,{className:"badge-icon"})," ",t)}}),Object.defineProperty(p(o),"renderTaskProgress",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=o.props.checkboxes,t=e.total,r=e.checked;return 0===t?null:n.default.createElement("div",{className:"badge",style:{background:r===t?"green":"#444"}},n.default.createElement(u.default,{className:"badge-icon"})," ",r,"/",t)}}),r))}var r,o,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n.Component),r=t,(o=[{key:"render",value:function(){return n.default.createElement("div",{className:"card-badges"},this.renderDueDate(),this.renderTaskProgress())}}])&&d(r.prototype,o),c&&d(r,c),t}();Object.defineProperty(b,"propTypes",{configurable:!0,enumerable:!0,writable:!0,value:{date:o.default.oneOfType([o.default.string,o.default.instanceOf(Date)]),checkboxes:o.default.shape({total:o.default.number.isRequired,checked:o.default.number.isRequired}).isRequired}});var y=b;t.default=y},function(e,t){e.exports=require("react-modal")},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMzkwLjQiIGhlaWdodD0iMzkwLjQiIHZpZXdCb3g9IjAgMCAzNjYgMzY2Ij48ZGVmcz48bGluZWFyR3JhZGllbnQgaWQ9ImQiPjxzdG9wIG9mZnNldD0iMCIgc3RvcC1jb2xvcj0iI2Q2MTE3NSIvPjxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iI2ZmMmE4ZSIvPjwvbGluZWFyR3JhZGllbnQ+PGxpbmVhckdyYWRpZW50IGlkPSJjIj48c3RvcCBvZmZzZXQ9IjAiIHN0b3AtY29sb3I9IiNjZGJkMmQiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNmZmYwNWUiLz48L2xpbmVhckdyYWRpZW50PjxsaW5lYXJHcmFkaWVudCBpZD0iYiI+PHN0b3Agb2Zmc2V0PSIwIiBzdG9wLWNvbG9yPSJtYXJvb24iLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNmZjhkNjgiLz48L2xpbmVhckdyYWRpZW50PjxsaW5lYXJHcmFkaWVudCBpZD0iYSI+PHN0b3Agb2Zmc2V0PSIwIi8+PHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjNTY1NjU2Ii8+PC9saW5lYXJHcmFkaWVudD48bGluZWFyR3JhZGllbnQgeGxpbms6aHJlZj0iI2EiIGlkPSJlIiB4MT0iOTEuNSIgeTE9IjUxMS4zNjIiIHgyPSIzMzMuNSIgeTI9IjEyMi4zNjIiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIi8+PGxpbmVhckdyYWRpZW50IHhsaW5rOmhyZWY9IiNiIiBpZD0iZiIgeDE9IjI0MyIgeTE9IjM3MC4zNjIiIHgyPSI0MjAiIHkyPSIxMjIuMzYyIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIvPjxsaW5lYXJHcmFkaWVudCB4bGluazpocmVmPSIjYyIgaWQ9ImciIHgxPSI0NDQuNTQ1IiB5MT0iNzczLjI2NCIgeDI9IjU5OC43ODciIHkyPSI3MjEuNTA5IiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgZ3JhZGllbnRUcmFuc2Zvcm09Im1hdHJpeCguOTQ1OTUgMCAwIDEuMDU2MzQgLTE5Ni4yOTcgLTU2LjkzNikiLz48bGluZWFyR3JhZGllbnQgeGxpbms6aHJlZj0iI2QiIGlkPSJoIiB4MT0iNjIwIiB5MT0iNzM2Ljg2MiIgeDI9Ijc2MiIgeTI9IjY2Ni44NjIiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIiBncmFkaWVudFRyYW5zZm9ybT0ibWF0cml4KC45NDU5NSAwIDAgMS4wNjY5OSAtNTA4LjY0OSAtNTguMDE1KSIvPjwvZGVmcz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTU4IC01NDMuMzYyKSI+PHBhdGggZD0iTTI0IDExNi4zNjJoNDAwdjQwMEgyNHoiIGZpbGw9InVybCgjZSkiIGZpbGwtcnVsZT0iZXZlbm9kZCIgc3Ryb2tlPSIjMDAwIi8+PHBhdGggb3BhY2l0eT0iLjk5OCIgZmlsbD0iIzU2NTY1NiIgZD0iTTU0OSAzMDQuMzYyaDI1djQzaC0yNXoiLz48cGF0aCBkPSJNNjIgMTg3LjYyOGgxNDh2MjM5LjQ2OUg2MnoiIG9wYWNpdHk9Ii45OTgiIGZpbGw9IiMwMGI3YWYiLz48cGF0aCBkPSJNMjM4IDE4Ny42MjhoMTQ4djE4NS40NjlIMjM4eiIgb3BhY2l0eT0iLjk5OCIgZmlsbD0idXJsKCNmKSIvPjxwYXRoIGQ9Ik02MjcgMTk2LjM2MmE2MCA2MCAwIDAgMS02MCA2MCA2MCA2MCAwIDAgMS02MC02MCA2MCA2MCAwIDAgMSA2MC02MCA2MCA2MCAwIDAgMSA2MCA2MHptMCAxMjBhNjAgNjAgMCAwIDEtNjAgNjAgNjAgNjAgMCAwIDEtNjAtNjAgNjAgNjAgMCAwIDEgNjAtNjAgNjAgNjAgMCAwIDEgNjAgNjB6IiBvcGFjaXR5PSIuOTk4IiBmaWxsPSIjMDBiN2FmIi8+PHJlY3Qgd2lkdGg9IjIwNiIgaGVpZ2h0PSIxNDYiIHg9IjQ5NCIgeT0iNjAwLjM2MiIgcng9IjE1IiByeT0iMTUiIG9wYWNpdHk9Ii45OTgiIGZpbGw9Im5vbmUiLz48cmVjdCB3aWR0aD0iMTIxIiBoZWlnaHQ9Ijc5IiB4PSI2NDYiIHk9IjQzNS4zNjIiIHJ4PSIxNC41IiByeT0iMTIiIG9wYWNpdHk9Ii45OTgiIGZpbGw9IiMwMGI3YWYiLz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMTYgLTMpIj48cmVjdCByeT0iNTAiIHJ4PSI1MCIgeT0iNTQ2LjM2MiIgeD0iNDIiIGhlaWdodD0iMzY2IiB3aWR0aD0iMzY2IiBvcGFjaXR5PSIuOTk4IiBmaWxsPSIjNTA1MDUwIi8+PHJlY3Qgcnk9IjMxLjY5IiByeD0iMjguMzc4IiB5PSI1NzkuMzYyIiB4PSIyMzYiIGhlaWdodD0iMzAwIiB3aWR0aD0iMTQwIiBvcGFjaXR5PSIuOTk4IiBmaWxsPSJ1cmwoI2cpIi8+PHJlY3Qgcnk9IjMyLjAxIiByeD0iMzMuMzMzIiB5PSI1NzkuMzYyIiB4PSI3NSIgaGVpZ2h0PSIyMjMiIHdpZHRoPSIxNDAiIG9wYWNpdHk9Ii45OTgiIGZpbGw9InVybCgjaCkiLz48L2c+PC9nPjwvc3ZnPg=="},function(e,t){e.exports=require("react-icons/lib/fa/user-secret")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),o=d(r(1)),a=r(2),i=r(3),l=d(r(21)),u=d(r(86)),c=d(r(85)),s=d(r(20));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?b(e):t}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}r(84);var y=function(e){function t(){var e,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,d=new Array(a),f=0;f<a;f++)d[f]=arguments[f];return p(o,(r=o=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(d))),Object.defineProperty(b(o),"render",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=o.props.user;return n.default.createElement("header",null,n.default.createElement(i.Link,{to:"/",className:"header-title"},n.default.createElement("img",{src:s.default,alt:"React Kanban logo"})," React Kanban"),n.default.createElement("div",{className:"header-right-side"},e?n.default.createElement("img",{src:e.imageUrl,alt:e.name,className:"user-thumbnail",title:e.name}):n.default.createElement(l.default,{className:"guest-icon"}),e?n.default.createElement("a",{className:"signout-link",href:"/auth/signout"},n.default.createElement(u.default,{className:"signout-icon"})," Sign out"):n.default.createElement("a",{className:"signout-link",href:"/"},n.default.createElement(c.default,{className:"signout-icon"})," Sign in")))}}),r))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n.Component),t}();Object.defineProperty(y,"propTypes",{configurable:!0,enumerable:!0,writable:!0,value:{user:o.default.object}});var m=(0,a.connect)(function(e){return{user:e.user}})(y);t.default=m},function(e,t){e.exports=require("slugify")},function(e,t){e.exports=require("react-router")},function(e,t){e.exports=require("redux")},function(e,t){e.exports=require("normalizr")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=r(26),a=(n=r(14))&&n.__esModule?n:{default:n};function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var l=function(e){var t=new o.schema.Entity("cardsById",{},{idAttribute:"_id"}),r=new o.schema.Entity("listsById",{cards:[t]},{idAttribute:"_id"}),n=new o.schema.Entity("boardsById",{lists:[r]},{idAttribute:"_id"});return(0,o.normalize)(e,[n]).entities},u=function(e){return function(t,r,n){t.user?e.collection("boards").find({$or:[{users:t.user._id},{isPublic:!0}]}).toArray().then(function(e){t.initialState=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){i(e,t,r[t])})}return e}({},l(e),{user:t.user}),n()}):(t.initialState=l([(0,a.default)()]),n())}};t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=r(13),a=(n=r(12))&&n.__esModule?n:{default:n};var i=(0,o.Router)();i.get("/twitter",a.default.authenticate("twitter")),i.get("/twitter/callback",a.default.authenticate("twitter",{failureRedirect:"/login"}),function(e,t){t.redirect("/")}),i.get("/google",a.default.authenticate("google",{scope:["profile"]})),i.get("/google/callback",a.default.authenticate("google"),function(e,t){t.redirect("/")}),i.get("/signout",function(e,t){e.logout(),t.redirect("/")});var l=i;t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(13),o=function(e){var t=(0,n.Router)(),r=e.collection("boards");return t.put("/board",function(e,t){var n=e.body;r.replaceOne({_id:n._id,users:e.user._id},n,{upsert:!0}).then(function(e){t.send(e)})}),t.delete("/board",function(e,t){var n=e.body.boardId;r.deleteOne({_id:n}).then(function(e){t.send(e)})}),t};t.default=o},function(e,t){e.exports=require("passport-google-oauth20")},function(e,t){e.exports=require("passport-twitter")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(r(12)),o=r(31),a=r(30),i=l(r(14));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t=e.collection("users"),r=e.collection("boards");n.default.serializeUser(function(e,t){t(null,e._id)}),n.default.deserializeUser(function(e,r){t.findOne({_id:e}).then(function(e){r(null,e)})}),n.default.use(new o.Strategy({consumerKey:process.env.TWITTER_API_KEY,consumerSecret:process.env.TWITTER_API_SECRET,callbackURL:"".concat(process.env.ROOT_URL,"/auth/twitter/callback")},function(e,n,o,a){t.findOne({_id:o.id}).then(function(e){if(e)a(null,e);else{var n={_id:o.id,name:o.displayName,imageUrl:o._json.profile_image_url};t.insertOne(n).then(function(){r.insertOne((0,i.default)(o.id)).then(function(){return a(null,n)})})}})})),n.default.use(new a.Strategy({clientID:process.env.GOOGLE_CLIENT_ID,clientSecret:process.env.GOOGLE_CLIENT_SECRET,callbackURL:"".concat(process.env.ROOT_URL,"/auth/google/callback")},function(e,n,o,a){t.findOne({_id:o.id}).then(function(e){if(e)a(null,e);else{var n={_id:o.id,name:o.displayName,imageUrl:o._json.image.url};t.insertOne(n).then(function(){r.insertOne((0,i.default)(o.id)).then(function(){return a(null,n)})})}})}))};t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PUT_BOARD_ID_IN_REDUX":case"ADD_BOARD":return t.payload.boardId;default:return e}};t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"ENTER_AS_GUEST":return!0;default:return e}};t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return(arguments.length>1?arguments[1]:void 0).type,e};t.default=n},function(e,t,r){"use strict";function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==l.return||l.return()}finally{if(o)throw a}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){i(e,t,r[t])})}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_LIST":var r=t.payload,l=r.boardId,u=r.listId;return a({},e,i({},l,a({},e[l],{lists:o(e[l].lists).concat([u])})));case"MOVE_LIST":var c=t.payload,s=c.oldListIndex,d=c.newListIndex,f=c.boardId,p=Array.from(e[f].lists),b=n(p.splice(s,1),1)[0];return p.splice(d,0,b),a({},e,i({},f,a({},e[f],{lists:p})));case"DELETE_LIST":var y=t.payload,m=y.listId,g=y.boardId;return a({},e,i({},g,a({},e[g],{lists:e[g].lists.filter(function(e){return e!==m})})));case"ADD_BOARD":var v=t.payload,h=v.boardTitle,O=v.boardId;return a({},e,i({},O,{_id:O,title:h,lists:[],users:[v.userId],color:"blue"}));case"CHANGE_BOARD_TITLE":var w=t.payload,j=w.boardTitle,I=w.boardId;return a({},e,i({},I,a({},e[I],{title:j})));case"CHANGE_BOARD_COLOR":var _=t.payload,P=_.boardId,E=_.color;return a({},e,i({},P,a({},e[P],{color:E})));case"DELETE_BOARD":var S=t.payload.boardId;return e[S],function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,[S]);default:return e}};t.default=l},function(e,t,r){"use strict";function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==l.return||l.return()}finally{if(o)throw a}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){i(e,t,r[t])})}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_CARD":var r=t.payload,l=r.listId,u=r.cardId;return a({},e,i({},l,a({},e[l],{cards:o(e[l].cards).concat([u])})));case"MOVE_CARD":var c,s=t.payload,d=s.oldCardIndex,f=s.newCardIndex,p=s.sourceListId,b=s.destListId;if(p===b){var y=Array.from(e[p].cards),m=n(y.splice(d,1),1)[0];return y.splice(f,0,m),a({},e,i({},p,a({},e[p],{cards:y})))}var g=Array.from(e[p].cards),v=n(g.splice(d,1),1)[0],h=Array.from(e[b].cards);return h.splice(f,0,v),a({},e,(i(c={},p,a({},e[p],{cards:g})),i(c,b,a({},e[b],{cards:h})),c));case"DELETE_CARD":var O=t.payload,w=O.cardId,j=O.listId;return a({},e,i({},j,a({},e[j],{cards:e[j].cards.filter(function(e){return e!==w})})));case"ADD_LIST":var I=t.payload,_=I.listId;return a({},e,i({},_,{_id:_,title:I.listTitle,cards:[]}));case"CHANGE_LIST_TITLE":var P=t.payload,E=P.listId,S=P.listTitle;return a({},e,i({},E,a({},e[E],{title:S})));case"DELETE_LIST":var C=t.payload.listId;return e[C],function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,[C]);default:return e}};t.default=l},function(e,t,r){"use strict";function n(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){o(e,t,r[t])})}return e}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_CARD":var r=t.payload,a=r.cardText,i=r.cardId;return n({},e,o({},i,{text:a,_id:i}));case"CHANGE_CARD_TEXT":var l=t.payload,u=l.cardText,c=l.cardId;return n({},e,o({},c,n({},e[c],{text:u})));case"CHANGE_CARD_DATE":var s=t.payload,d=s.date,f=s.cardId;return n({},e,o({},f,n({},e[f],{date:d})));case"CHANGE_CARD_COLOR":var p=t.payload,b=p.color,y=p.cardId;return n({},e,o({},y,n({},e[y],{color:b})));case"DELETE_CARD":var m=t.payload.cardId;return e[m],function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,[m]);case"DELETE_LIST":var g=t.payload.cards;return Object.keys(e).filter(function(e){return!g.includes(e)}).reduce(function(t,r){return n({},t,o({},r,e[r]))},{});default:return e}};t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(25),o=s(r(38)),a=s(r(37)),i=s(r(36)),l=s(r(35)),u=s(r(34)),c=s(r(33));function s(e){return e&&e.__esModule?e:{default:e}}var d=(0,n.combineReducers)({cardsById:o.default,listsById:a.default,boardsById:i.default,user:l.default,isGuest:u.default,currentBoardId:c.default});t.default=d},function(e,t){},function(e,t){},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2aWV3Qm94PSIwIDAgNDggNDgiPjxkZWZzPjxwYXRoIGlkPSJhIiBkPSJNNDQuNSAyMEgyNHY4LjVoMTEuOEMzNC43IDMzLjkgMzAuMSAzNyAyNCAzN2MtNy4yIDAtMTMtNS44LTEzLTEzczUuOC0xMyAxMy0xM2MzLjEgMCA1LjkgMS4xIDguMSAyLjlsNi40LTYuNEMzNC42IDQuMSAyOS42IDIgMjQgMiAxMS44IDIgMiAxMS44IDIgMjRzOS44IDIyIDIyIDIyYzExIDAgMjEtOCAyMS0yMiAwLTEuMy0uMi0yLjctLjUtNHoiLz48L2RlZnM+PGNsaXBQYXRoIGlkPSJiIj48dXNlIHhsaW5rOmhyZWY9IiNhIiBvdmVyZmxvdz0idmlzaWJsZSIvPjwvY2xpcFBhdGg+PHBhdGggY2xpcC1wYXRoPSJ1cmwoI2IpIiBmaWxsPSIjRkJCQzA1IiBkPSJNMCAzN1YxMWwxNyAxM3oiLz48cGF0aCBjbGlwLXBhdGg9InVybCgjYikiIGZpbGw9IiNFQTQzMzUiIGQ9Ik0wIDExbDE3IDEzIDctNi4xTDQ4IDE0VjBIMHoiLz48cGF0aCBjbGlwLXBhdGg9InVybCgjYikiIGZpbGw9IiMzNEE4NTMiIGQ9Ik0wIDM3bDMwLTIzIDcuOSAxTDQ4IDB2NDhIMHoiLz48cGF0aCBjbGlwLXBhdGg9InVybCgjYikiIGZpbGw9IiM0Mjg1RjQiIGQ9Ik00OCA0OEwxNyAyNGwtNC0zIDM1LTEweiIvPjwvc3ZnPg=="},function(e,t){e.exports=require("react-icons/lib/fa/twitter")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),o=d(r(1)),a=r(2),i=r(8),l=d(r(43)),u=d(r(21)),c=d(r(42)),s=d(r(20));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?b(e):t}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}r(41);var y=function(e){function t(){var e,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,d=new Array(a),f=0;f<a;f++)d[f]=arguments[f];return p(o,(r=o=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(d))),Object.defineProperty(b(o),"enterAsGuest",{configurable:!0,enumerable:!0,writable:!0,value:function(){o.props.dispatch({type:"ENTER_AS_GUEST"})}}),Object.defineProperty(b(o),"render",{configurable:!0,enumerable:!0,writable:!0,value:function(){return n.default.createElement("div",{className:"landing-page"},n.default.createElement(i.Helmet,null,n.default.createElement("title",null,"Sign in | React Kanban")),n.default.createElement("div",{className:"landing-page-info-wrapper"},n.default.createElement("div",{className:"landing-page-info"},n.default.createElement("div",{className:"landing-page-heading"},n.default.createElement("img",{src:s.default,alt:"React Kanban logo",className:"landing-page-logo"})," ",n.default.createElement("h1",null,"React Kanban")),n.default.createElement("p",{className:"landing-page-description"},"An open source kanban application inspired by Trello. Check out the source code on"," ",n.default.createElement("a",{href:"https://github.com/yogaboll/react-kanban",target:"_blank",rel:"noopener noreferrer"},"GitHub"),"."),n.default.createElement("div",{className:"signin-buttons"},n.default.createElement("div",null,n.default.createElement("a",{href:"/auth/twitter",className:"signin-button twitter-button"},n.default.createElement(l.default,{className:"logo-icon"}),"  Sign in with Twitter")),n.default.createElement("div",null,n.default.createElement("a",{href:"/auth/google",className:"signin-button google-button"},n.default.createElement("img",{className:"google-logo",src:c.default,alt:"google logo"})," Sign in with Google")),n.default.createElement("div",{className:"guest-button-wrapper"},n.default.createElement("button",{onClick:o.enterAsGuest,className:"signin-button guest-button"},n.default.createElement(u.default,{className:"logo-icon"}),"  Enter as guest"))))))}}),r))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n.Component),t}();Object.defineProperty(y,"propTypes",{configurable:!0,enumerable:!0,writable:!0,value:{dispatch:o.default.func.isRequired}});var m=(0,a.connect)()(y);t.default=m},function(e,t){},function(e,t){},function(e,t){},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),o=c(r(1)),a=r(3),i=r(2),l=r(10),u=c(r(9));function c(e){return e&&e.__esModule?e:{default:e}}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}r(47);var p=function(e){function t(){var e,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return d(o,(r=o=d(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),Object.defineProperty(f(o),"handleSelection",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=o.props,t=e.dispatch,r=e.match,n=e.history;t({type:"DELETE_BOARD",payload:{boardId:r.params.boardId}}),n.push("/")}}),Object.defineProperty(f(o),"render",{configurable:!0,enumerable:!0,writable:!0,value:function(){return n.default.createElement(l.Wrapper,{className:"board-deleter-wrapper",onSelection:o.handleSelection},n.default.createElement(l.Button,{className:"board-deleter-button"},n.default.createElement("div",{className:"modal-icon"},n.default.createElement(u.default,null)),n.default.createElement("div",{className:"board-header-right-text"}," Delete board")),n.default.createElement(l.Menu,{className:"board-deleter-menu"},n.default.createElement("div",{className:"board-deleter-header"},"Are you sure?"),n.default.createElement(l.MenuItem,{className:"board-deleter-confirm"},"Delete")))}}),r))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n.Component),t}();Object.defineProperty(p,"propTypes",{configurable:!0,enumerable:!0,writable:!0,value:{match:o.default.shape({params:o.default.shape({boardId:o.default.string})}).isRequired,history:o.default.shape({push:o.default.func.isRequired}).isRequired,dispatch:o.default.func.isRequired}});var b=(0,a.withRouter)((0,i.connect)()(p));t.default=b},function(e,t){},function(e,t){e.exports=require("react-icons/lib/fa/check")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),o=d(r(1)),a=r(2),i=r(3),l=r(10),u=d(r(4)),c=d(r(50)),s=d(r(16));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function b(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?y(e):t}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}r(49);var m=function(e){function t(){var e,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return b(n,(r=n=b(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),Object.defineProperty(y(n),"handleSelection",{configurable:!0,enumerable:!0,writable:!0,value:function(e){var t=n.props,r=t.dispatch,o=t.boardId;e!==t.boardColor&&r({type:"CHANGE_BOARD_COLOR",payload:{boardId:o,color:e}})}}),r))}var r,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n.Component),r=t,(o=[{key:"render",value:function(){var e=this.props.boardColor;return n.default.createElement(l.Wrapper,{className:"color-picker-wrapper",onSelection:this.handleSelection},n.default.createElement(l.Button,{className:"color-picker"},n.default.createElement("img",{src:s.default,alt:"colorwheel",className:"modal-icon"}),n.default.createElement("div",{className:"board-header-right-text"}," Color  ▾")),n.default.createElement(l.Menu,{className:"color-picker-menu"},["blue","green","red","pink"].map(function(t){return n.default.createElement(l.MenuItem,{value:t,className:(0,u.default)("color-picker-item",t),key:t},t===e&&n.default.createElement(c.default,null))})))}}])&&p(r.prototype,o),a&&p(r,a),t}();Object.defineProperty(m,"propTypes",{configurable:!0,enumerable:!0,writable:!0,value:{boardId:o.default.string.isRequired,boardColor:o.default.string.isRequired,dispatch:o.default.func.isRequired}});var g=(0,i.withRouter)((0,a.connect)(function(e,t){var r=t.match.params.boardId;return{boardColor:e.boardsById[r].color,boardId:r}})(m));t.default=g},function(e,t){},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=(n=r(1))&&n.__esModule?n:{default:n},i=r(2),l=r(3);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}r(52);var d=function(e){function t(e){var r,n,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,o=(t.__proto__||Object.getPrototypeOf(t)).call(this,e),r=!o||"object"!==u(o)&&"function"!=typeof o?s(n):o,Object.defineProperty(s(r),"handleClick",{configurable:!0,enumerable:!0,writable:!0,value:function(){r.setState({isOpen:!0})}}),Object.defineProperty(s(r),"handleChange",{configurable:!0,enumerable:!0,writable:!0,value:function(e){r.setState({newTitle:e.target.value})}}),Object.defineProperty(s(r),"submitTitle",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=r.props,t=e.dispatch,n=e.boardId,o=e.boardTitle,a=r.state.newTitle;""!==a&&(o!==a&&t({type:"CHANGE_BOARD_TITLE",payload:{boardTitle:a,boardId:n}}),r.setState({isOpen:!1}))}}),Object.defineProperty(s(r),"revertTitle",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=r.props.boardTitle;r.setState({newTitle:e,isOpen:!1})}}),Object.defineProperty(s(r),"handleKeyDown",{configurable:!0,enumerable:!0,writable:!0,value:function(e){13===e.keyCode?r.submitTitle():27===e.keyCode&&r.revertTitle()}}),Object.defineProperty(s(r),"handleFocus",{configurable:!0,enumerable:!0,writable:!0,value:function(e){e.target.select()}}),r.state={isOpen:!1,newTitle:e.boardTitle},r}var r,n,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r=t,(n=[{key:"render",value:function(){var e=this.state,t=e.isOpen,r=e.newTitle,n=this.props.boardTitle;return t?o.default.createElement("input",{autoFocus:!0,value:r,type:"text",onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.revertTitle,onFocus:this.handleFocus,className:"board-title-input",spellCheck:!1}):o.default.createElement("button",{className:"board-title-button",onClick:this.handleClick},o.default.createElement("h1",{className:"board-title-text"},n))}}])&&c(r.prototype,n),a&&c(r,a),t}();Object.defineProperty(d,"propTypes",{configurable:!0,enumerable:!0,writable:!0,value:{boardTitle:a.default.string.isRequired,boardId:a.default.string.isRequired,dispatch:a.default.func.isRequired}});var f=(0,l.withRouter)((0,i.connect)(function(e,t){var r=t.match.params.boardId;return{boardTitle:e.boardsById[r].title,boardId:r}})(d));t.default=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(r(0)),o=l(r(53)),a=l(r(51)),i=l(r(48));function l(e){return e&&e.__esModule?e:{default:e}}r(46);var u=function(){return n.default.createElement("div",{className:"board-header"},n.default.createElement(o.default,null),n.default.createElement("div",{className:"board-header-right"},n.default.createElement(a.default,null),n.default.createElement("div",{className:"vertical-line"}),n.default.createElement(i.default,null)))};t.default=u},function(e,t){},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),o=u(r(1)),a=r(2),i=u(r(6)),l=u(r(7));function u(e){return e&&e.__esModule?e:{default:e}}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}r(55);var d=function(e){function t(){var e,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=(t.__proto__||Object.getPrototypeOf(t)).call(this),e=!o||"object"!==c(o)&&"function"!=typeof o?s(r):o,Object.defineProperty(s(e),"handleBlur",{configurable:!0,enumerable:!0,writable:!0,value:function(){e.setState({isOpen:!1})}}),Object.defineProperty(s(e),"handleChange",{configurable:!0,enumerable:!0,writable:!0,value:function(t){e.setState({listTitle:t.target.value})}}),Object.defineProperty(s(e),"handleKeyDown",{configurable:!0,enumerable:!0,writable:!0,value:function(t){13===t.keyCode?(t.preventDefault(),e.handleSubmit()):27===t.keyCode&&e.setState({isOpen:!1,listTitle:""})}}),Object.defineProperty(s(e),"handleSubmit",{configurable:!0,enumerable:!0,writable:!0,value:function(){var t=e.props,r=t.dispatch,n=t.boardId,o=e.state.listTitle,a=l.default.generate();""!==o&&(r({type:"ADD_LIST",payload:{listTitle:o,listId:a,boardId:n}}),e.setState({isOpen:!1,listTitle:""}))}}),Object.defineProperty(s(e),"render",{configurable:!0,enumerable:!0,writable:!0,value:function(){var t=e.state,r=t.isOpen,o=t.listTitle;return r?n.default.createElement("div",{className:"list"},n.default.createElement(i.default,{autoFocus:!0,useCacheForDOMMeasurements:!0,value:o,onChange:e.handleChange,onKeyDown:e.handleKeyDown,className:"list-adder-textarea",onBlur:e.handleBlur,spellCheck:!1})):n.default.createElement("button",{onClick:function(){return e.setState({isOpen:!0})},className:"add-list-button"},"Add a new list...")}}),e.state={isOpen:!1,listTitle:""},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n.Component),t}();Object.defineProperty(d,"propTypes",{configurable:!0,enumerable:!0,writable:!0,value:{boardId:o.default.string.isRequired,dispatch:o.default.func.isRequired}});var f=(0,a.connect)()(d);t.default=f},function(e,t){},function(e,t){},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),o=c(r(1)),a=r(2),i=c(r(6)),l=c(r(7)),u=c(r(11));function c(e){return e&&e.__esModule?e:{default:e}}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}r(58);var p=function(e){function t(){var e,r,n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,n=(t.__proto__||Object.getPrototypeOf(t)).call(this),e=!n||"object"!==s(n)&&"function"!=typeof n?f(r):n,Object.defineProperty(f(e),"toggleCardComposer",{configurable:!0,enumerable:!0,writable:!0,value:function(){e.setState({isOpen:!e.state.isOpen})}}),Object.defineProperty(f(e),"handleChange",{configurable:!0,enumerable:!0,writable:!0,value:function(t){e.setState({newText:t.target.value})}}),Object.defineProperty(f(e),"handleKeyDown",{configurable:!0,enumerable:!0,writable:!0,value:function(t){13===t.keyCode&&!1===t.shiftKey?e.handleSubmit(t):27===t.keyCode&&e.toggleCardComposer()}}),Object.defineProperty(f(e),"handleSubmit",{configurable:!0,enumerable:!0,writable:!0,value:function(t){t.preventDefault();var r=e.state.newText,n=e.props,o=n.listId,a=n.dispatch;""!==r&&(a({type:"ADD_CARD",payload:{cardText:r,cardId:l.default.generate(),listId:o}}),e.toggleCardComposer(),e.setState({newText:""}))}}),e.state={newText:"",isOpen:!1},e}var r,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n.Component),r=t,(o=[{key:"render",value:function(){var e=this.state,t=e.newText;return e.isOpen?n.default.createElement(u.default,{handleClickOutside:this.toggleCardComposer},n.default.createElement("form",{onSubmit:this.handleSubmit,className:"card-adder-textarea-wrapper"},n.default.createElement(i.default,{autoFocus:!0,useCacheForDOMMeasurements:!0,minRows:1,onChange:this.handleChange,onKeyDown:this.handleKeyDown,value:t,className:"card-adder-textarea",placeholder:"Add a new card...",spellCheck:!1,onBlur:this.toggleCardComposer}))):n.default.createElement("button",{onClick:this.toggleCardComposer,className:"add-card-button"},"+")}}])&&d(r.prototype,o),a&&d(r,a),t}();Object.defineProperty(p,"propTypes",{configurable:!0,enumerable:!0,writable:!0,value:{listId:o.default.string.isRequired,dispatch:o.default.func.isRequired}});var b=(0,a.connect)()(p);t.default=b},function(e,t){},function(e,t){e.exports=require("marked")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=(n=r(61))&&n.__esModule?n:{default:n};var a=function(e){var t=0;return(0,o.default)(e,{sanitize:!0,gfm:!0,breaks:!0}).replace(/<a/g,'<a target="_blank"').replace(/\[(\s|x)\]/g,function(e){var r;return r="<input id=".concat(t,"[ ]"===e?' onclick="return false" type="checkbox">':' checked onclick="return false" type="checkbox">'),t+=1,r})};t.default=a},function(e,t){},function(e,t){},function(e,t){},function(e,t){e.exports=require("react-day-picker")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),o=r(2),a=l(r(1)),i=l(r(66));function l(e){return e&&e.__esModule?e:{default:e}}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}r(65);var d=function(e){function t(e){var r,n,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,o=(t.__proto__||Object.getPrototypeOf(t)).call(this,e),r=!o||"object"!==u(o)&&"function"!=typeof o?s(n):o,Object.defineProperty(s(r),"handleDayClick",{configurable:!0,enumerable:!0,writable:!0,value:function(e,t){var n=t.selected;t.disabled||(n?r.setState({selectedDay:void 0}):r.setState({selectedDay:e}))}}),Object.defineProperty(s(r),"handleSave",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=r.state.selectedDay,t=r.props,n=t.dispatch,o=t.cardId,a=t.toggleCalendar;n({type:"CHANGE_CARD_DATE",payload:{date:e,cardId:o}}),a()}}),r.state={selectedDay:e.date?new Date(e.date):void 0},r}var r,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n.Component),r=t,(o=[{key:"render",value:function(){var e=this.state.selectedDay,t=this.props.toggleCalendar;return n.default.createElement("div",{className:"calendar"},n.default.createElement(i.default,{onDayClick:this.handleDayClick,selectedDays:e,disabledDays:{before:new Date}}),n.default.createElement("div",{className:"calendar-buttons"},n.default.createElement("button",{onClick:this.handleSave,className:"calendar-save-button"},"Save"),n.default.createElement("button",{onClick:t},"Cancel")))}}])&&c(r.prototype,o),a&&c(r,a),t}();Object.defineProperty(d,"propTypes",{configurable:!0,enumerable:!0,writable:!0,value:{dispatch:a.default.func.isRequired,cardId:a.default.string.isRequired,date:a.default.oneOfType([a.default.string,a.default.instanceOf(Date)]),toggleCalendar:a.default.func.isRequired}});var f=(0,o.connect)()(d);t.default=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),o=r(2),a=f(r(1)),i=f(r(19)),l=f(r(9)),u=f(r(17)),c=f(r(67)),s=f(r(11)),d=f(r(16));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}r(64);var m=function(e){function t(){var e,r,n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,n=(t.__proto__||Object.getPrototypeOf(t)).call(this),e=!n||"object"!==p(n)&&"function"!=typeof n?y(r):n,Object.defineProperty(y(e),"deleteCard",{configurable:!0,enumerable:!0,writable:!0,value:function(){var t=e.props,r=t.dispatch,n=t.listId;r({type:"DELETE_CARD",payload:{cardId:t.card._id,listId:n}})}}),Object.defineProperty(y(e),"changeColor",{configurable:!0,enumerable:!0,writable:!0,value:function(t){var r=e.props,n=r.dispatch,o=r.card,a=r.toggleColorPicker;o.color!==t&&n({type:"CHANGE_CARD_COLOR",payload:{color:t,cardId:o._id}}),a(),e.colorPickerButton.focus()}}),Object.defineProperty(y(e),"handleKeyDown",{configurable:!0,enumerable:!0,writable:!0,value:function(t){27===t.keyCode&&(e.props.toggleColorPicker(),e.colorPickerButton.focus())}}),Object.defineProperty(y(e),"handleClickOutside",{configurable:!0,enumerable:!0,writable:!0,value:function(){(0,e.props.toggleColorPicker)(),e.colorPickerButton.focus()}}),Object.defineProperty(y(e),"toggleCalendar",{configurable:!0,enumerable:!0,writable:!0,value:function(){e.setState({isCalendarOpen:!e.state.isCalendarOpen})}}),e.state={isCalendarOpen:!1},e}var r,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n.Component),r=t,(o=[{key:"render",value:function(){var e=this,t=this.props,r=t.isCardNearRightBorder,o=t.isColorPickerOpen,a=t.toggleColorPicker,f=t.card,p=t.isThinDisplay,b=t.boundingRect,y=this.state.isCalendarOpen,m={content:{top:Math.min(b.bottom+10,window.innerHeight-300),left:b.left}};return n.default.createElement("div",{className:"options-list",style:{alignItems:r?"flex-end":"flex-start"}},n.default.createElement("div",null,n.default.createElement("button",{onClick:this.deleteCard,className:"options-list-button"},n.default.createElement("div",{className:"modal-icon"},n.default.createElement(l.default,null))," Delete")),n.default.createElement("div",{className:"modal-color-picker-wrapper"},n.default.createElement("button",{className:"options-list-button",onClick:a,onKeyDown:this.handleKeyDown,ref:function(t){e.colorPickerButton=t},"aria-haspopup":!0,"aria-expanded":o},n.default.createElement("img",{src:d.default,alt:"colorwheel",className:"modal-icon"})," Color"),o&&n.default.createElement(s.default,{eventTypes:"click",handleClickOutside:this.handleClickOutside},n.default.createElement("div",{className:"modal-color-picker",onKeyDown:this.handleKeyDown},["white","#6df","#6f6","#ff6","#fa4","#f66"].map(function(t){return n.default.createElement("button",{key:t,style:{background:t},className:"color-picker-color",onClick:function(){return e.changeColor(t)}})})))),n.default.createElement("div",null,n.default.createElement("button",{onClick:this.toggleCalendar,className:"options-list-button"},n.default.createElement("div",{className:"modal-icon"},n.default.createElement(u.default,null))," Due date")),n.default.createElement(i.default,{isOpen:y,onRequestClose:this.toggleCalendar,overlayClassName:"calendar-underlay",className:"calendar-modal",style:p?{content:{top:110,left:"50%",transform:"translateX(-50%)"}}:m},n.default.createElement(c.default,{cardId:f._id,date:f.date,toggleCalendar:this.toggleCalendar})))}}])&&b(r.prototype,o),a&&b(r,a),t}();Object.defineProperty(m,"propTypes",{configurable:!0,enumerable:!0,writable:!0,value:{isColorPickerOpen:a.default.bool.isRequired,card:a.default.shape({_id:a.default.string.isRequired}).isRequired,listId:a.default.string.isRequired,isCardNearRightBorder:a.default.bool.isRequired,isThinDisplay:a.default.bool.isRequired,boundingRect:a.default.object.isRequired,toggleColorPicker:a.default.func.isRequired,dispatch:a.default.func.isRequired}});var g=(0,o.connect)()(m);t.default=g},function(e,t){},function(e,t){e.exports=require("react-icons/lib/fa/check-square-o")},function(e,t){e.exports=require("date-fns/difference_in_calendar_days")},function(e,t){e.exports=require("date-fns/format")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),o=d(r(1)),a=r(2),i=d(r(6)),l=d(r(19)),u=d(r(18)),c=d(r(68)),s=r(15);function d(e){return e&&e.__esModule?e:{default:e}}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}r(63);var y=function(e){function t(e){var r,n,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,o=(t.__proto__||Object.getPrototypeOf(t)).call(this,e),r=!o||"object"!==f(o)&&"function"!=typeof o?b(n):o,Object.defineProperty(b(r),"componentWillReceiveProps",{configurable:!0,enumerable:!0,writable:!0,value:function(e){r.setState({newText:e.card.text})}}),Object.defineProperty(b(r),"handleKeyDown",{configurable:!0,enumerable:!0,writable:!0,value:function(e){13===e.keyCode&&!1===e.shiftKey&&(e.preventDefault(),r.submitCard())}}),Object.defineProperty(b(r),"submitCard",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=r.state.newText,t=r.props,n=t.card,o=t.listId,a=t.dispatch,i=t.toggleCardEditor;""===e?r.deleteCard():e!==n.text&&a({type:"CHANGE_CARD_TEXT",payload:{cardText:e,cardId:n._id,listId:o}}),i()}}),Object.defineProperty(b(r),"handleChange",{configurable:!0,enumerable:!0,writable:!0,value:function(e){r.setState({newText:e.target.value})}}),Object.defineProperty(b(r),"toggleColorPicker",{configurable:!0,enumerable:!0,writable:!0,value:function(){r.setState({isColorPickerOpen:!r.state.isColorPickerOpen})}}),Object.defineProperty(b(r),"handleRequestClose",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=r.state.isColorPickerOpen,t=r.props.toggleCardEditor;e||t()}}),r.state={newText:e.card.text,isColorPickerOpen:!1,isTextareaFocused:!0},"undefined"!=typeof document&&l.default.setAppElement("#app"),r}var r,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n.Component),r=t,(o=[{key:"render",value:function(){var e=this,t=this.state,r=t.newText,o=t.isColorPickerOpen,a=t.isTextareaFocused,d=this.props,f=d.cardElement,p=d.card,b=d.listId,y=d.isOpen;if(!f)return null;var m=(0,s.findCheckboxes)(r),g=f.getBoundingClientRect(),v=window.innerWidth-g.right<g.left,h=window.innerWidth<550,O={content:{top:Math.min(g.top,window.innerHeight-g.height-18),left:v?null:g.left,right:v?window.innerWidth-g.right:null,flexDirection:v?"row-reverse":"row"}};return n.default.createElement(l.default,{closeTimeoutMS:150,isOpen:y,onRequestClose:this.handleRequestClose,contentLabel:"Card editor",overlayClassName:"modal-underlay",className:"modal",style:h?{content:{flexDirection:"column",top:3,left:3,right:3}}:O,includeDefaultStyles:!1,onClick:this.handleRequestClose},n.default.createElement("div",{className:"modal-textarea-wrapper",style:{minHeight:h?"none":g.height,width:h?"100%":g.width,boxShadow:a?"0px 0px 3px 2px rgb(0, 180, 255)":null,background:p.color}},n.default.createElement(i.default,{autoFocus:!0,useCacheForDOMMeasurements:!0,value:r,onChange:this.handleChange,onKeyDown:this.handleKeyDown,className:"modal-textarea",spellCheck:!1,onFocus:function(){return e.setState({isTextareaFocused:!0})},onBlur:function(){return e.setState({isTextareaFocused:!1})}}),(p.date||m.total>0)&&n.default.createElement(u.default,{date:p.date,checkboxes:m})),n.default.createElement(c.default,{isColorPickerOpen:o,card:p,listId:b,boundingRect:g,isCardNearRightBorder:v,isThinDisplay:h,toggleColorPicker:this.toggleColorPicker}))}}])&&p(r.prototype,o),a&&p(r,a),t}();Object.defineProperty(y,"propTypes",{configurable:!0,enumerable:!0,writable:!0,value:{card:o.default.shape({text:o.default.string.isRequired,_id:o.default.string.isRequired,date:o.default.oneOfType([o.default.string,o.default.instanceOf(Date)]),color:o.default.string}).isRequired,listId:o.default.string.isRequired,cardElement:o.default.shape({getBoundingClientRect:o.default.func.isRequired}),isOpen:o.default.bool.isRequired,toggleCardEditor:o.default.func.isRequired,dispatch:o.default.func.isRequired}});var m=(0,a.connect)()(y);t.default=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),o=f(r(1)),a=r(2),i=r(5),l=f(r(4)),u=f(r(73)),c=f(r(18)),s=r(15),d=f(r(62));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}r(60);var v=function(e){function t(){var e,r,n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,n=(t.__proto__||Object.getPrototypeOf(t)).call(this),e=!n||"object"!==p(n)&&"function"!=typeof n?g(r):n,Object.defineProperty(g(e),"toggleCardEditor",{configurable:!0,enumerable:!0,writable:!0,value:function(){e.setState({isModalOpen:!e.state.isModalOpen})}}),Object.defineProperty(g(e),"handleClick",{configurable:!0,enumerable:!0,writable:!0,value:function(t){var r=t.target,n=r.tagName,o=r.checked,a=r.id;"input"===n.toLowerCase()?e.toggleCheckbox(o,parseInt(a,10)):"a"!==n.toLowerCase()&&e.toggleCardEditor(t)}}),Object.defineProperty(g(e),"handleKeyDown",{configurable:!0,enumerable:!0,writable:!0,value:function(t){13===t.keyCode&&"a"!==t.target.tagName.toLowerCase()&&(t.preventDefault(),e.toggleCardEditor())}}),Object.defineProperty(g(e),"toggleCheckbox",{configurable:!0,enumerable:!0,writable:!0,value:function(t,r){var n=e.props,o=n.card,a=n.dispatch,i=0,l=o.text.replace(/\[(\s|x)\]/g,function(e){var n;return n=r===i?t?"[x]":"[ ]":e,i+=1,n});a({type:"CHANGE_CARD_TEXT",payload:{cardId:o._id,cardText:l}})}}),e.state={isModalOpen:!1},e}var r,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n.Component),r=t,(o=[{key:"render",value:function(){var e=this,t=this.props,r=t.card,o=t.index,a=t.listId,f=t.isDraggingOver,p=this.state.isModalOpen,m=(0,s.findCheckboxes)(r.text);return n.default.createElement(n.default.Fragment,null,n.default.createElement(i.Draggable,{draggableId:r._id,index:o},function(t,o){return n.default.createElement(n.default.Fragment,null,n.default.createElement("div",b({className:(0,l.default)("card-title",{"card-title--drag":o.isDragging}),ref:function(r){t.innerRef(r),e.ref=r}},t.draggableProps,t.dragHandleProps,{onClick:function(r){t.dragHandleProps.onClick(r),e.handleClick(r)},onKeyDown:function(r){t.dragHandleProps.onKeyDown(r),e.handleKeyDown(r)},style:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){y(e,t,r[t])})}return e}({},t.draggableProps.style,{background:r.color})}),n.default.createElement("div",{className:"card-title-html",dangerouslySetInnerHTML:{__html:(0,d.default)(r.text)}}),(r.date||m.total>0)&&n.default.createElement(c.default,{date:r.date,checkboxes:m})),f&&t.placeholder)}),n.default.createElement(u.default,{isOpen:p,cardElement:this.ref,card:r,listId:a,toggleCardEditor:this.toggleCardEditor}))}}])&&m(r.prototype,o),a&&m(r,a),t}();Object.defineProperty(v,"propTypes",{configurable:!0,enumerable:!0,writable:!0,value:{card:o.default.shape({_id:o.default.string.isRequired,text:o.default.string.isRequired,color:o.default.string}).isRequired,listId:o.default.string.isRequired,isDraggingOver:o.default.bool.isRequired,index:o.default.number.isRequired,dispatch:o.default.func.isRequired}});var h=(0,a.connect)(function(e,t){return{card:e.cardsById[t.cardId]}})(v);t.default=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),o=u(r(1)),a=r(2),i=r(5),l=u(r(74));function u(e){return e&&e.__esModule?e:{default:e}}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var p=function(e){function t(){var e,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return d(n,(r=n=d(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),Object.defineProperty(f(n),"componentDidUpdate",{configurable:!0,enumerable:!0,writable:!0,value:function(e){n.props.cards[n.props.cards.length-2]===e.cards[e.cards.length-1]&&n.scrollToBottom()}}),Object.defineProperty(f(n),"scrollToBottom",{configurable:!0,enumerable:!0,writable:!0,value:function(){n.listEnd.scrollIntoView()}}),r))}var r,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n.Component),r=t,(o=[{key:"render",value:function(){var e=this,t=this.props,r=t.listId,o=t.cards;return n.default.createElement(i.Droppable,{droppableId:r},function(t,a){var i=a.isDraggingOver;return n.default.createElement(n.default.Fragment,null,n.default.createElement("div",{className:"cards",ref:t.innerRef},o.map(function(e,t){return n.default.createElement(l.default,{isDraggingOver:i,key:e,cardId:e,index:t,listId:r})}),t.placeholder,n.default.createElement("div",{style:{float:"left",clear:"both"},ref:function(t){e.listEnd=t}})))})}}])&&s(r.prototype,o),a&&s(r,a),t}();Object.defineProperty(p,"propTypes",{configurable:!0,enumerable:!0,writable:!0,value:{listId:o.default.string.isRequired,cards:o.default.arrayOf(o.default.string).isRequired}});var b=(0,a.connect)(function(e,t){return{cards:e.listsById[t.listId].cards}})(p);t.default=b},function(e,t){},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),o=c(r(1)),a=r(2),i=c(r(6)),l=r(10),u=c(r(9));function c(e){return e&&e.__esModule?e:{default:e}}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}r(76);var b=function(e){function t(e){var r,n,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,o=(t.__proto__||Object.getPrototypeOf(t)).call(this,e),r=!o||"object"!==s(o)&&"function"!=typeof o?p(n):o,Object.defineProperty(p(r),"handleChange",{configurable:!0,enumerable:!0,writable:!0,value:function(e){r.setState({newTitle:e.target.value})}}),Object.defineProperty(p(r),"handleKeyDown",{configurable:!0,enumerable:!0,writable:!0,value:function(e){13===e.keyCode?(e.preventDefault(),r.handleSubmit()):27===e.keyCode&&r.revertTitle()}}),Object.defineProperty(p(r),"handleSubmit",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=r.state.newTitle,t=r.props,n=t.listTitle,o=t.listId,a=t.dispatch;""!==e&&(e!==n&&a({type:"CHANGE_LIST_TITLE",payload:{listTitle:e,listId:o}}),r.setState({isOpen:!1}))}}),Object.defineProperty(p(r),"revertTitle",{configurable:!0,enumerable:!0,writable:!0,value:function(){r.setState({newTitle:r.props.listTitle,isOpen:!1})}}),Object.defineProperty(p(r),"deleteList",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=r.props,t=e.listId,n=e.cards,o=e.boardId;(0,e.dispatch)({type:"DELETE_LIST",payload:{cards:n,listId:t,boardId:o}})}}),Object.defineProperty(p(r),"openTitleEditor",{configurable:!0,enumerable:!0,writable:!0,value:function(){r.setState({isOpen:!0})}}),Object.defineProperty(p(r),"handleButtonKeyDown",{configurable:!0,enumerable:!0,writable:!0,value:function(e){13===e.keyCode&&(e.preventDefault(),r.openTitleEditor())}}),r.state={isOpen:!1,newTitle:e.listTitle},r}var r,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n.Component),r=t,(o=[{key:"render",value:function(){var e=this,t=this.state,r=t.isOpen,o=t.newTitle,a=this.props,c=a.dragHandleProps,s=a.listTitle;return n.default.createElement("div",{className:"list-header"},r?n.default.createElement("div",{className:"list-title-textarea-wrapper"},n.default.createElement(i.default,{autoFocus:!0,useCacheForDOMMeasurements:!0,value:o,onChange:this.handleChange,onKeyDown:this.handleKeyDown,className:"list-title-textarea",onBlur:this.handleSubmit,spellCheck:!1})):n.default.createElement("div",d({},c,{role:"button",tabIndex:0,onClick:this.openTitleEditor,onKeyDown:function(t){e.handleButtonKeyDown(t),c.onKeyDown(t)},className:"list-title-button"}),s),n.default.createElement(l.Wrapper,{className:"delete-list-wrapper",onSelection:this.deleteList},n.default.createElement(l.Button,{className:"delete-list-button"},n.default.createElement(u.default,null)),n.default.createElement(l.Menu,{className:"delete-list-menu"},n.default.createElement("div",{className:"delete-list-header"},"Are you sure?"),n.default.createElement(l.MenuItem,{className:"delete-list-confirm"},"Delete"))))}}])&&f(r.prototype,o),a&&f(r,a),t}();Object.defineProperty(b,"propTypes",{configurable:!0,enumerable:!0,writable:!0,value:{listTitle:o.default.string.isRequired,listId:o.default.string.isRequired,boardId:o.default.string.isRequired,cards:o.default.arrayOf(o.default.string).isRequired,dragHandleProps:o.default.object.isRequired,dispatch:o.default.func.isRequired}});var y=(0,a.connect)()(b);t.default=y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),o=d(r(1)),a=r(2),i=r(5),l=d(r(4)),u=d(r(77)),c=d(r(75)),s=d(r(59));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function b(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?y(e):t}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}r(57);var m=function(e){function t(){var e,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,d=new Array(a),f=0;f<a;f++)d[f]=arguments[f];return b(o,(r=o=b(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(d))),Object.defineProperty(y(o),"render",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=o.props,t=e.list,r=e.boardId,a=e.index;return n.default.createElement(i.Draggable,{draggableId:t._id,index:a,disableInteractiveElementBlocking:!0},function(e,o){return n.default.createElement(n.default.Fragment,null,n.default.createElement("div",p({ref:e.innerRef},e.draggableProps,{className:"list-wrapper"}),n.default.createElement("div",{className:(0,l.default)("list",{"list--drag":o.isDragging})},n.default.createElement(u.default,{dragHandleProps:e.dragHandleProps,listTitle:t.title,listId:t._id,cards:t.cards,boardId:r}),n.default.createElement("div",{className:"cards-wrapper"},n.default.createElement(c.default,{listId:t._id}))),n.default.createElement(s.default,{listId:t._id})),e.placeholder)})}}),r))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n.Component),t}();Object.defineProperty(m,"propTypes",{configurable:!0,enumerable:!0,writable:!0,value:{boardId:o.default.string.isRequired,index:o.default.number.isRequired,list:o.default.shape({_id:o.default.string.isRequired}).isRequired}});var g=(0,a.connect)()(m);t.default=g},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),o=p(r(1)),a=r(2),i=r(8),l=r(5),u=p(r(4)),c=p(r(78)),s=p(r(56)),d=p(r(22)),f=p(r(54));function p(e){return e&&e.__esModule?e:{default:e}}function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}r(45);var m=function(e){function t(e){var r,o,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,a=(t.__proto__||Object.getPrototypeOf(t)).call(this,e),r=!a||"object"!==b(a)&&"function"!=typeof a?y(o):a,Object.defineProperty(y(r),"componentDidMount",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=r.props,t=e.boardId;(0,e.dispatch)({type:"PUT_BOARD_ID_IN_REDUX",payload:{boardId:t}})}}),Object.defineProperty(y(r),"handleDragEnd",{configurable:!0,enumerable:!0,writable:!0,value:function(e){var t=e.source,n=e.destination,o=e.type;if(n){var a=r.props,i=a.dispatch,l=a.boardId;"COLUMN"!==o?t.index===n.index&&t.droppableId===n.droppableId||i({type:"MOVE_CARD",payload:{sourceListId:t.droppableId,destListId:n.droppableId,oldCardIndex:t.index,newCardIndex:n.index,boardId:l}}):t.index!==n.index&&i({type:"MOVE_LIST",payload:{oldListIndex:t.index,newListIndex:n.index,boardId:t.droppableId}})}}}),Object.defineProperty(y(r),"handleMouseDown",{configurable:!0,enumerable:!0,writable:!0,value:function(e){var t=e.target,n=e.clientX;"list-wrapper"!==t.className&&"lists"!==t.className||(window.addEventListener("mousemove",r.handleMouseMove),window.addEventListener("mouseup",r.handleMouseUp),r.setState({startX:n,startScrollX:window.scrollX}))}}),Object.defineProperty(y(r),"handleMouseMove",{configurable:!0,enumerable:!0,writable:!0,value:function(e){var t=e.clientX,n=r.state,o=n.startX,a=n.startScrollX,i=a-t+o;window.scrollTo(i,0);var l=window.scrollX;i!==l&&r.setState({startX:t+l-a})}}),Object.defineProperty(y(r),"handleMouseUp",{configurable:!0,enumerable:!0,writable:!0,value:function(){r.state.startX&&(window.removeEventListener("mousemove",r.handleMouseMove),window.removeEventListener("mouseup",r.handleMouseUp),r.setState({startX:null,startScrollX:null}))}}),Object.defineProperty(y(r),"handleWheel",{configurable:!0,enumerable:!0,writable:!0,value:function(e){var t=e.target,r=e.deltaY;"list-wrapper"!==t.className&&"lists"!==t.className&&"open-composer-button"!==t.className&&"list-title-button"!==t.className||(1===Math.sign(r)?window.scrollTo(window.scrollX+80,0):-1===Math.sign(r)&&window.scrollTo(window.scrollX-80,0))}}),Object.defineProperty(y(r),"render",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=r.props,t=e.lists,o=e.boardTitle,a=e.boardId,p=e.boardColor;return n.default.createElement(n.default.Fragment,null,n.default.createElement("div",{className:(0,u.default)("board",p)},n.default.createElement(i.Helmet,null,n.default.createElement("title",null,o," | React Kanban")),n.default.createElement(d.default,null),n.default.createElement(f.default,null),n.default.createElement("div",{className:"lists-wrapper",onMouseDown:r.handleMouseDown,onWheel:r.handleWheel},n.default.createElement(l.DragDropContext,{onDragEnd:r.handleDragEnd},n.default.createElement(l.Droppable,{droppableId:a,type:"COLUMN",direction:"horizontal"},function(e){return n.default.createElement("div",{className:"lists",ref:e.innerRef},t.map(function(e,t){return n.default.createElement(c.default,{list:e,boardId:a,index:t,key:e._id})}),e.placeholder,n.default.createElement(s.default,{boardId:a}))}))),n.default.createElement("div",{className:"board-underlay"})))}}),r.state={startX:null,startScrollX:null},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n.Component),t}();Object.defineProperty(m,"propTypes",{configurable:!0,enumerable:!0,writable:!0,value:{lists:o.default.arrayOf(o.default.shape({_id:o.default.string.isRequired})).isRequired,boardId:o.default.string.isRequired,boardTitle:o.default.string.isRequired,boardColor:o.default.string.isRequired,dispatch:o.default.func.isRequired}});var g=(0,a.connect)(function(e,t){var r=t.board;return{lists:r.lists.map(function(t){return e.listsById[t]}),boardTitle:r.title,boardColor:r.color,boardId:r._id}})(m);t.default=g},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=u(r(0)),o=r(24),a=r(2),i=u(r(1)),l=u(r(79));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){return e.board?n.default.createElement(l.default,{board:e.board}):n.default.createElement(o.Redirect,{to:"/"})};c.propTypes={board:i.default.object};var s=(0,a.connect)(function(e,t){var r=t.match.params.boardId;return{board:e.boardsById[r]}})(c);t.default=s},function(e,t){},function(e,t){e.exports=require("react-onclickoutside")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),o=c(r(1)),a=r(2),i=c(r(23)),l=c(r(7)),u=c(r(11));function c(e){return e&&e.__esModule?e:{default:e}}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var f=function(e){function t(){var e,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=(t.__proto__||Object.getPrototypeOf(t)).call(this),e=!o||"object"!==s(o)&&"function"!=typeof o?d(r):o,Object.defineProperty(d(e),"toggleOpen",{configurable:!0,enumerable:!0,writable:!0,value:function(){e.setState({isOpen:!e.state.isOpen})}}),Object.defineProperty(d(e),"handleChange",{configurable:!0,enumerable:!0,writable:!0,value:function(t){e.setState({title:t.target.value})}}),Object.defineProperty(d(e),"handleSubmit",{configurable:!0,enumerable:!0,writable:!0,value:function(t){t.preventDefault();var r=e.state.title;if(""!==r){var n=e.props,o=n.dispatch,a=n.history,u=n.userId,c=l.default.generate();o({type:"ADD_BOARD",payload:{boardTitle:r,boardId:c,userId:u}});var s=(0,i.default)(r,{lower:!0});a.push("/b/".concat(c,"/").concat(s)),e.setState({isOpen:!1,title:""})}}}),Object.defineProperty(d(e),"handleKeyDown",{configurable:!0,enumerable:!0,writable:!0,value:function(t){27===t.keyCode&&e.setState({isOpen:!1})}}),Object.defineProperty(d(e),"render",{configurable:!0,enumerable:!0,writable:!0,value:function(){var t=e.state,r=t.isOpen,o=t.title;return r?n.default.createElement(u.default,{handleClickOutside:e.toggleOpen},n.default.createElement("form",{onSubmit:e.handleSubmit,className:"board-adder"},n.default.createElement("input",{autoFocus:!0,className:"submit-board-input",type:"text",value:o,onKeyDown:e.handleKeyDown,onChange:e.handleChange,spellCheck:!1}),n.default.createElement("input",{type:"submit",value:"Create",className:"submit-board-button",disabled:""===o}))):n.default.createElement("button",{onClick:e.toggleOpen,className:"add-board-button"},"Add a new board...")}}),e.state={isOpen:!1,title:""},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n.Component),t}();Object.defineProperty(f,"propTypes",{configurable:!0,enumerable:!0,writable:!0,value:{userId:o.default.string.isRequired,history:o.default.object.isRequired,dispatch:o.default.func.isRequired}});var p=(0,a.connect)(function(e){return{userId:e.user?e.user._id:"guest"}})(f);t.default=p},function(e,t){},function(e,t){e.exports=require("react-icons/lib/fa/sign-in")},function(e,t){e.exports=require("react-icons/lib/fa/sign-out")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),o=f(r(1)),a=r(2),i=r(3),l=r(8),u=f(r(23)),c=f(r(4)),s=f(r(22)),d=f(r(83));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?y(e):t}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}r(81);var m=function(e){function t(){var e,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,f=new Array(a),p=0;p<a;p++)f[p]=arguments[p];return b(o,(r=o=b(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(f))),Object.defineProperty(y(o),"render",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=o.props,t=e.boards,r=e.listsById,a=e.history;return n.default.createElement(n.default.Fragment,null,n.default.createElement(l.Helmet,null,n.default.createElement("title",null,"Home | React Kanban")),n.default.createElement(s.default,null),n.default.createElement("div",{className:"home"},n.default.createElement("div",{className:"main-content"},n.default.createElement("h1",null,"Boards"),n.default.createElement("div",{className:"boards"},t.map(function(e){return n.default.createElement(i.Link,{key:e._id,className:(0,c.default)("board-link",e.color),to:"/b/".concat(e._id,"/").concat((0,u.default)(e.title,{lower:!0}))},n.default.createElement("div",{className:"board-link-title"},e.title),n.default.createElement("div",{className:"mini-board"},e.lists.map(function(e){return n.default.createElement("div",{key:e,className:"mini-list",style:{height:"".concat(Math.min(18*(r[e].cards.length+1),100),"%")}})})))}),n.default.createElement(d.default,{history:a})))))}}),r))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n.Component),t}();Object.defineProperty(m,"propTypes",{configurable:!0,enumerable:!0,writable:!0,value:{boards:o.default.arrayOf(o.default.shape({_id:o.default.string.isRequired,color:o.default.string.isRequired,title:o.default.string.isRequired}).isRequired).isRequired,listsById:o.default.object.isRequired,history:o.default.object.isRequired}});var g=(0,a.connect)(function(e){return{boards:Object.values(e.boardsById),listsById:e.listsById}})(m);t.default=g},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r(0)),o=s(r(1)),a=r(3),i=r(2),l=s(r(87)),u=s(r(80)),c=s(r(44));function s(e){return e&&e.__esModule?e:{default:e}}r(40);var d=function(e){var t=e.user,r=e.isGuest;return t||r?n.default.createElement(a.Switch,null,n.default.createElement(a.Route,{exact:!0,path:"/",component:l.default}),n.default.createElement(a.Route,{path:"/b/:boardId",component:u.default}),n.default.createElement(a.Redirect,{to:"/"})):n.default.createElement(a.Switch,null,n.default.createElement(a.Route,{exact:!0,path:"/",component:c.default}),n.default.createElement(a.Redirect,{to:"/"}))};d.propTypes={user:o.default.object,isGuest:o.default.bool.isRequired};var f=(0,a.withRouter)((0,i.connect)(function(e){return{user:e.user,isGuest:e.isGuest}})(d));t.default=f},function(e,t){e.exports=require("react-dom/server")},function(e,t){e.exports=require("fs")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(90),o=p(r(0)),a=r(89),i=r(25),l=r(2),u=r(24),c=r(8),s=r(5),d=p(r(88)),f=p(r(39));function p(e){return e&&e.__esModule?e:{default:e}}var b=JSON.parse((0,n.readFileSync)("./dist/public/manifest.json","utf8")),y=function(e,t){var r=(0,i.createStore)(f.default,e.initialState);(0,s.resetContext)();var n=(0,a.renderToString)(o.default.createElement(l.Provider,{store:r},o.default.createElement(u.StaticRouter,{location:e.url,context:{}},o.default.createElement(d.default,null)))),p=r.getState(),y=c.Helmet.renderStatic(),m='\n    <!DOCTYPE html>\n    <html>\n      <head>\n        <meta charset="UTF-8">\n        <meta http-equiv="X-UA-Compatible" content="ie=edge">\n        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">\n        <meta name="description" content="An open source kanban application created with React and Redux. ">\n        <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/static/favicons/apple-touch-icon-144x144.png" />\n        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="/static/favicons/apple-touch-icon-152x152.png" />\n        <link rel="icon" type="image/png" href="/static/favicons/favicon-32x32.png" sizes="32x32" />\n        <link rel="icon" type="image/png" href="/static/favicons/favicon-16x16.png" sizes="16x16" />\n        <meta name="msapplication-TileColor" content="#FFFFFF" />\n        <meta name="msapplication-TileImage" content="/static/favicons/mstile-144x144.png" />\n        <meta property="og:image" content="https://react-kanban.stackriot.com/static/favicons/og-kanban-logo.png">\n        <meta name="google-site-verification" content="kc5rnCJU-Ms7uz-uw_hUmnZEc8ZbGleHkSzmT9RwXnQ" />\n        <link rel="stylesheet" href='.concat(b["main.css"],">\n        ").concat(y.title.toString(),'\n      </head>\n      <body>\n        <div id="app">').concat(n,"</div>\n      </body>\n      <script>\n        window.PRELOADED_STATE = ").concat(JSON.stringify(p),"\n      <\/script>\n      <script src=").concat(b["main.js"],'><\/script>\n      <script src="https://apis.google.com/js/platform.js" async defer><\/script>\n    </html>\n  ');t.send(m)};t.default=y},function(e,t){e.exports=require("dotenv")},function(e,t){e.exports=require("morgan")},function(e,t){e.exports=require("serve-favicon")},function(e,t){e.exports=require("helmet")},function(e,t){e.exports=require("compression")},function(e,t){e.exports=require("connect-mongo")},function(e,t){e.exports=require("express-session")},function(e,t){e.exports=require("mongodb")},function(e,t,r){"use strict";var n=v(r(13)),o=r(99),a=v(r(12)),i=v(r(98)),l=v(r(97)),u=v(r(96)),c=v(r(95)),s=v(r(94)),d=v(r(93)),f=v(r(92)),p=v(r(91)),b=v(r(32)),y=v(r(29)),m=v(r(28)),g=v(r(27));function v(e){return e&&e.__esModule?e:{default:e}}f.default.config();var h=(0,n.default)(),O=(0,l.default)(i.default);o.MongoClient.connect(process.env.MONGODB_URL).then(function(e){var t=e.db(process.env.MONGODB_NAME);(0,b.default)(t),h.use((0,c.default)()),h.use((0,d.default)("tiny")),h.use((0,u.default)()),h.use((0,s.default)("dist/public/favicons/favicon.ico")),h.use(n.default.json()),h.use(n.default.urlencoded({extended:!0})),h.use("/static",n.default.static("dist/public",{maxAge:"0"})),h.use((0,i.default)({store:new O({db:t}),secret:process.env.SESSION_SECRET,resave:!0,saveUninitialized:!1})),h.use(a.default.initialize()),h.use(a.default.session()),h.use("/auth",m.default),h.use("/api",(0,y.default)(t)),h.use((0,g.default)(t)),h.get("*",p.default);var r=process.env.PORT||"1337";h.listen(r,function(){return console.log("Server listening on port ".concat(r))})})}]);